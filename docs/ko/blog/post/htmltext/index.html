<!DOCTYPE html><html lang="ko" class="m-0 h-full w-full p-0 font-sans"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/07980e2d71fa2e8a.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-edb038c983517128.js"/><script src="/_next/static/chunks/6d6fd578-ce1a99d383542e28.js" async=""></script><script src="/_next/static/chunks/569-011126ddd69d4d36.js" async=""></script><script src="/_next/static/chunks/main-app-9ff6726d36fbca45.js" async=""></script><script src="/_next/static/chunks/app/layout-29cedd18110e1dde.js" async=""></script><script src="/_next/static/chunks/300e3dd5-313f54abbd515727.js" async=""></script><script src="/_next/static/chunks/216-28dbbe38542de427.js" async=""></script><script src="/_next/static/chunks/695-c18d4d3bfa6316a5.js" async=""></script><script src="/_next/static/chunks/app/%5Blocale%5D/blog/post/%5Bkey%5D/page-b9bd563ed2da1a66.js" async=""></script><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/><title>Get the pure text from a HTML text</title><link rel="stylesheet" as="style" crossorigin="" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard-dynamic-subset.min.css"/><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&amp;display=swap" rel="stylesheet"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="m-0 h-full w-full p-0"><style>#nprogress{pointer-events:none}#nprogress .bar{background:#d6d6d6;position:fixed;z-index:1600;top: 0;left:0;width:100%;height:3px}#nprogress .peg{display:block;position:absolute;right:0;width:100px;height:100%;;opacity:1;-webkit-transform:rotate(3deg) translate(0px,-4px);-ms-transform:rotate(3deg) translate(0px,-4px);transform:rotate(3deg) translate(0px,-4px)}#nprogress .spinner{display:block;position:fixed;z-index:1600;top: 15px;right:15px}#nprogress .spinner-icon{width:18px;height:18px;box-sizing:border-box;border:2px solid transparent;border-top-color:#d6d6d6;border-left-color:#d6d6d6;border-radius:50%;-webkit-animation:nprogress-spinner 400ms linear infinite;animation:nprogress-spinner 400ms linear infinite}.nprogress-custom-parent{overflow:hidden;position:relative}.nprogress-custom-parent #nprogress .bar,.nprogress-custom-parent #nprogress .spinner{position:absolute}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@keyframes nprogress-spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}</style><div class="flex h-full w-full flex-col items-center overflow-y-auto bg-background pt-16 text-primary"><div class="w-full max-w-screen-lg px-6"><div class="w-full"><header class="mb-4 flex w-full flex-row items-center"><h1 class="relative m-0 mr-auto p-0 font-mono text-3xl font-normal md:text-4xl">Blog<span class="absolute right-0 top-0 z-10 inline-block h-full w-full animate-[typing-reveal_forwards] border-l-4 border-solid border-yellow bg-background" style="animation-duration:1.6s;animation-timing-function:steps(4, end)"></span></h1><div class="relative"><button class="font-mono text-base hover:text-yellow">&lt;Menu/&gt;</button><div class="absolute right-0 z-10 origin-top-right scale-0 bg-background font-mono text-base text-primary [transition:transform_200ms,opacity_150ms] scale-0 opacity-0"><div class="px-2 py-0.5 whitespace-pre">+<!-- -->------------------<!-- -->+</div><button class="group relative block px-2 py-0.5 whitespace-pre font-mono text-base leading-tight tracking-[normal] text-primary">|                  |<span class="absolute left-7 top-1/2 -translate-y-1/2 group-hover:text-yellow">&lt;Home/&gt;</span></button><button class="group relative block px-2 py-0.5 whitespace-pre font-mono text-base leading-tight tracking-[normal] text-primary">|                  |<span class="absolute left-7 top-1/2 -translate-y-1/2 group-hover:text-yellow">&lt;Projects/&gt;</span></button><button class="group relative block px-2 py-0.5 whitespace-pre font-mono text-base leading-tight tracking-[normal] text-primary">|                  |<span class="absolute left-7 top-1/2 -translate-y-1/2 group-hover:text-yellow">&lt;Musics/&gt;</span></button><button class="group relative block px-2 py-0.5 whitespace-pre font-mono text-base leading-tight tracking-[normal] text-primary">|                  |<span class="absolute left-7 top-1/2 -translate-y-1/2 group-hover:text-yellow">&lt;Art/&gt;</span></button><button class="group relative block px-2 py-0.5 whitespace-pre font-mono text-base leading-tight tracking-[normal] text-primary">|                  |<span class="absolute left-7 top-1/2 -translate-y-1/2 group-hover:text-yellow">&lt;Blog/&gt;</span></button><div class="px-2 py-0.5 whitespace-pre">+<!-- -->------------------<!-- -->+</div><button class="group relative block px-2 py-0.5 whitespace-pre font-mono text-base leading-tight tracking-[normal] text-primary">|                  |<span class="absolute left-7 top-1/2 -translate-y-1/2 group-hover:text-yellow">English()</span></button><div class="px-2 py-0.5 whitespace-pre">+<!-- -->------------------<!-- -->+</div><button class="group relative block px-2 py-0.5 whitespace-pre font-mono text-base leading-tight tracking-[normal] text-primary">|                  |<span class="absolute left-7 top-1/2 -translate-y-1/2 group-hover:text-yellow">v1()</span></button><button class="group relative block px-2 py-0.5 whitespace-pre font-mono text-base leading-tight tracking-[normal] text-primary">|                  |<span class="absolute left-7 top-1/2 -translate-y-1/2 group-hover:text-yellow">v2()</span></button><div class="px-2 py-0.5 whitespace-pre">+<!-- -->------------------<!-- -->+</div></div></div></header><div class="mb-4 w-full border-b-2 border-dashed border-gray pb-4"><h2 class="m-0 p-0 text-xl">Get the pure text from a HTML text</h2><div class="text-gray">2021-05-01</div></div><div class="mb-2 break-all text-base [&amp;_a]:cursor-pointer [&amp;_a]:font-normal [&amp;_code]:font-mono [&amp;_h1]:my-4 [&amp;_h1]:text-xl [&amp;_h1]:font-bold [&amp;_h2]:my-4 [&amp;_h2]:text-lg [&amp;_h2]:font-semibold [&amp;_h3]:my-4 [&amp;_h3]:text-base [&amp;_li]:list-disc [&amp;_p]:my-4 [&amp;_pre]:my-4 [&amp;_table]:border-collapse [&amp;_table]:border-2 [&amp;_table]:border-solid [&amp;_table]:border-gray [&amp;_td]:border-2 [&amp;_td]:border-solid [&amp;_td]:border-gray [&amp;_th]:border-2 [&amp;_th]:border-solid [&amp;_th]:border-gray [&amp;_th]:p-[8px] [&amp;_ul]:pl-6"><p>자바스크립트 또는 타입스크립트를 이용하여 HTML 텍스트에서 태그 등을 제외한 순수한 텍스트들만 뽑아내야 할 때가 있다.
브라우저 환경이라면, DOM API들을 이용하여 이를 간단하게 구현할 수 있다.
HTML element를 하나 만들고, 그 안에 HTML 텍스트를 집어넣은다음 innerText로 텍스트 정보를 꺼내면 된다.</p>
<p>Sometimes we have to extract only pure texts excluding tags, etc. from HTML text using JavaScript or TypeScript.
In a browser environment, you can implement it simply by using the DOM APIs.
Create an HTML element, put HTML text in it, and then pull out text information with innerText.</p>
<pre><pre style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#569CD6">const</span><span> html </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#ce9178">&#x27;...&#x27;</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> element </span><span class="token" style="color:#d4d4d4">=</span><span> document</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">createElement</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;div&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>element</span><span class="token" style="color:#d4d4d4">.</span><span>innerHTML </span><span class="token" style="color:#d4d4d4">=</span><span> html</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> text </span><span class="token" style="color:#d4d4d4">=</span><span> element</span><span class="token" style="color:#d4d4d4">.</span><span>innerText</span><span class="token" style="color:#d4d4d4">;</span></code></pre></pre>
<p>이 블로그에서도 포스트 검색과 포스트 미리보기 기능을 구현할 때 해당 트릭을 사용하였다.
포스트 HTML 텍스트에서 순수한 텍스트만 추출하여 검색어와 비교하거나 앞부분만 잘라서 미리보기용으로 사용하였다.</p>
<p>This blog also used this trick when implementing the post search and post preview functions.
I extracted only pure text from the post HTML text, and compared it with the search word or cut out its front part to preview the post.</p></div><div class="my-4 w-full border-b-2 border-dashed border-gray"></div><div class="mb-32 mt-8 text-base">Loading the comments...</div><div id="disqus_thread"></div></div></div><div class="h-32 w-full shrink-0"></div></div><script src="/_next/static/chunks/webpack-edb038c983517128.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[4589,[\"177\",\"static/chunks/app/layout-29cedd18110e1dde.js\"],\"\"]\n3:I[7706,[],\"\"]\n4:I[4760,[],\"\"]\n6:I[4226,[],\"OutletBoundary\"]\n9:I[4226,[],\"ViewportBoundary\"]\nb:I[4226,[],\"MetadataBoundary\"]\nd:I[7165,[],\"\"]\n:HL[\"/_next/static/css/07980e2d71fa2e8a.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"aZe89QxujpN8IRzl0bLG9\",\"p\":\"\",\"c\":[\"\",\"ko\",\"blog\",\"post\",\"htmltext\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[[\"locale\",\"ko\",\"d\"],{\"children\":[\"blog\",{\"children\":[\"post\",{\"children\":[[\"key\",\"htmltext\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/07980e2d71fa2e8a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"className\":\"m-0 h-full w-full p-0 font-sans\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"as\":\"style\",\"crossOrigin\":\"\",\"href\":\"https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard-dynamic-subset.min.css\"}],[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.googleapis.com\"}],[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.gstatic.com\",\"crossOrigin\":\"\"}],[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700\u0026display=swap\",\"rel\":\"stylesheet\"}]]}],[\"$\",\"body\",null,{\"className\":\"m-0 h-full w-full p-0\",\"children\":[[\"$\",\"$L2\",null,{\"color\":\"#d6d6d6\",\"showSpinner\":false,\"shadow\":false}],[\"$\",\"div\",null,{\"className\":\"flex h-full w-full flex-col items-center overflow-y-auto bg-background pt-16 text-primary\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-full max-w-screen-lg px-6\",\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"div\",null,{\"className\":\"h-32 w-full shrink-0\"}]]}]]}]]}]]}],{\"children\":[[\"locale\",\"ko\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"post\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"key\",\"htmltext\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",\"$undefined\",null,[\"$\",\"$L6\",null,{\"children\":[\"$L7\",\"$L8\",null]}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"lSHcfegWhBnfjtWZSfsHc\",{\"children\":[[\"$\",\"$L9\",null,{\"children\":\"$La\"}],null]}],[\"$\",\"$Lb\",null,{\"children\":\"$Lc\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:I[3216,[\"847\",\"static/chunks/300e3dd5-313f54abbd515727.js\",\"216\",\"static/chunks/216-28dbbe38542de427.js\",\"695\",\"static/chunks/695-c18d4d3bfa6316a5.js\",\"253\",\"static/chunks/app/%5Blocale%5D/blog/post/%5Bkey%5D/page-b9bd563ed2da1a66.js\"],\"default\"]\nf:I[856,[\"847\",\"static/chunks/300e3dd5-313f54abbd515727.js\",\"216\",\"static/chunks/216-28dbbe38542de427.js\",\"695\",\"static/chunks/695-c18d4d3bfa6316a5.js\",\"253\",\"static/chunks/app/%5Blocale%5D/blog/post/%5Bkey%5D/page-b9bd563ed2da1a66.js\"],\"default\"]\n10:I[1852,[\"847\",\"static/chunks/300e3dd5-313f54abbd515727.js\",\"216\",\"static/chunks/216-28dbbe38542de427.js\",\"695\",\"static/chunks/695-c18d4d3bfa6316a5.js\",\"253\",\"static/chunks/app/%5Blocale%5D/blog/post/%5Bkey%5D/page-b9bd563ed2da1a66.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"w-full\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-4 flex w-full flex-row items-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"relative m-0 mr-auto p-0 font-mono text-3xl font-normal md:text-4xl\",\"children\":[\"Blog\",[\"$\",\"span\",null,{\"className\":\"absolute right-0 top-0 z-10 inline-block h-full w-full animate-[typing-reveal_forwards] border-l-4 border-solid border-yellow bg-background\",\"style\":{\"animationDuration\":\"1.6s\",\"animationTimingFunction\":\"steps(4, end)\"}}]]}],[\"$\",\"$Le\",null,{}]]}],[\"$\",\"div\",null,{\"className\":\"mb-4 w-full border-b-2 border-dashed border-gray pb-4\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"m-0 p-0 text-xl\",\"children\":\"Get the pure text from a HTML text\"}],[\"$\",\"div\",null,{\"className\":\"text-gray\",\"children\":\"2021-05-01\"}]]}],[\"$\",\"$Lf\",null,{\"post\":{\"key\":\"htmltext\",\"title\":\"Get the pure text from a HTML text\",\"time\":1619827200000,\"category\":\"Computer\",\"content\":\"자바스크립트 또는 타입스크립트를 이용하여 HTML 텍스트에서 태그 등을 제외한 순수한 텍스트들만 뽑아내야 할 때가 있다.\\r\\n브라우저 환경이라면, DOM API들을 이용하여 이를 간단하게 구현할 수 있다.\\r\\nHTML element를 하나 만들고, 그 안에 HTML 텍스트를 집어넣은다음 innerText로 텍스트 정보를 꺼내면 된다.\\r\\n\\r\\nSometimes we have to extract only pure texts excluding tags, etc. from HTML text using JavaScript or TypeScript.\\r\\nIn a browser environment, you can implement it simply by using the DOM APIs.\\r\\nCreate an HTML element, put HTML text in it, and then pull out text information with innerText.\\r\\n\\r\\n```typescript\\r\\nconst html = '...';\\r\\nconst element = document.createElement('div');\\r\\nelement.innerHTML = html;\\r\\nconst text = element.innerText;\\r\\n```\\r\\n\\r\\n이 블로그에서도 포스트 검색과 포스트 미리보기 기능을 구현할 때 해당 트릭을 사용하였다.\\r\\n포스트 HTML 텍스트에서 순수한 텍스트만 추출하여 검색어와 비교하거나 앞부분만 잘라서 미리보기용으로 사용하였다.\\r\\n\\r\\nThis blog also used this trick when implementing the post search and post preview functions.\\r\\nI extracted only pure text from the post HTML text, and compared it with the search word or cut out its front part to preview the post.\\r\\n\"}}],[\"$\",\"div\",null,{\"className\":\"my-4 w-full border-b-2 border-dashed border-gray\"}],[\"$\",\"$L10\",null,{\"shortname\":\"Avantgarde95\",\"config\":{\"url\":\"https://avantgarde95.github.io/blog/htmltext\",\"identifier\":\"Get the pure text from a HTML text\",\"title\":\"Get the pure text from a HTML text\"}}]]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"8:null\nc:[[\"$\",\"title\",\"0\",{\"children\":\"Get the pure text from a HTML text\"}]]\n"])</script></body></html>