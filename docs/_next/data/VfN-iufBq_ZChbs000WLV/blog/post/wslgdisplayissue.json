{"pageProps":{"output":{"key":"wslgdisplayissue","title":"Solving \"Cannot open display\" issue in WSLg","time":1648684800000,"category":"Computer","content":"<p>윈도우의 WSL2 위에 WSLg 기능을 설치하면, VcXsrv 등의 프로그램 없이도 리눅스용 GUI 프로그램들을 실행할 수 있다.</p>\n<p>If we install WSLg on the Windows WSL2, we can run GUI programs for Linux without programs such as VcXsrv.</p>\n<pre><code class=\"language-bash\"><span class=\"hljs\">$ wsl --update\n$ wsl --shutdown\n$ wsl</span>\n</code></pre>\n<p>종종 cannot open display (또는 couldn&#39;t open display) 등의 에러가 뜨며 GUI 프로그램이 실행되지 않는 경우가 있다.\n이 때는 아래 사항들을 체크해 보면 된다.</p>\n<p>Sometimes we get an error such as cannot open display (or couldn&#39;t open display) appears and the GUI program may not run.\nIn this case, we can try the following methods.</p>\n<p>(1) .wslconfig</p>\n<ul>\n<li>PowerShell에서 <code>notepad $env:USERPROFILE/.wslconfig</code> 입력</li>\n<li>만약 .wslconfig 파일이 있으면 guiApplication이 false인지 확인하고 false면 주석처리</li>\n<li>.wslconfig 파일이 없으면 신경 안 써도 됨\n<br/><br/></li>\n<li>Run <code>notepad $env:USERPROFILE/.wslconfig</code> on PowerShell</li>\n<li>If .wslconfig exists, check whether guiApplication is false. If it is false, comment it out.</li>\n<li>If .wslconfig doesn&#39;t exist, you don&#39;t have to do anything</li>\n</ul>\n<p>(2) DISPLAY</p>\n<ul>\n<li>wsl에서 <code>echo $DISPLAY</code>를 실행했을 때 <code>:0</code>이 출력되는지 확인</li>\n<li>출력되지 않는다면 <code>~/.bashrc</code> 등에 <code>export $DISPLAY=...</code> 등 DISPLAY를 덮어씌우는 문장이 있는지 확인\n<br/><br/></li>\n<li>Run <code>echo $DISPLAY</code> on wsl and check whether the output is <code>:0</code></li>\n<li>If not, open <code>~/.bashrc</code> and check whether there are lines which overrides DISPLAY (ex. <code>export $DISPLAY=...</code>)</li>\n</ul>\n<p>(3) .X11-unix</p>\n<ul>\n<li><code>sudo ln -s /mnt/wslg/.X11-unix /tmp/.X11-unix</code> 실행\n<br/><br/></li>\n<li>Run <code>sudo ln -s /mnt/wslg/.X11-unix /tmp/.X11-unix</code></li>\n</ul>\n<p>(4) XDG_RUNTIME_DIR</p>\n<ul>\n<li>도커 등을 설치하려고 systemd를 만지면 이 증상이 발생할 수 있다.</li>\n<li>wsl에서 <code>echo $XDG_RUNTIME_DIR</code>을 실행했을 때 <code>/mnt/wslg/runtime-dir</code>이 출력되는지 확인</li>\n<li>출력되지 않거나 값이 다르다면, <code>~/.bashrc</code>에 <code>export $XDG_RUNTIME_DIR=/mnt/wslg/runtime-dir</code> 적어주기\n<br/><br/></li>\n<li>If you setup systemd for installing the programs such as Docker, you can get this symptom.</li>\n<li>Run <code>echo $XDG_RUNTIME_DIR</code> on wsl and check whether the output is <code>/mnt/wslg/runtime-dir</code></li>\n<li>If not, add <code>export $XDG_RUNTIME_DIR=/mnt/wslg/runtime-dir</code> on <code>~/.bashrc</code></li>\n</ul>\n"}},"__N_SSG":true}