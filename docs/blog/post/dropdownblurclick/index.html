<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css"/><link href="https://fonts.cdnfonts.com/css/sf-mono" rel="stylesheet"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-87b3a303122f2f0d.js" defer=""></script><script src="/_next/static/chunks/framework-13851bb302b49da9.js" defer=""></script><script src="/_next/static/chunks/main-8b014f87b6aca4f1.js" defer=""></script><script src="/_next/static/chunks/pages/_app-04fac096a3f9eb2b.js" defer=""></script><script src="/_next/static/chunks/262-a9fa66b955143e8e.js" defer=""></script><script src="/_next/static/chunks/665-239ce736925cdaff.js" defer=""></script><script src="/_next/static/chunks/pages/blog/post/%5Bkey%5D-ccedb138c63ae538.js" defer=""></script><script src="/_next/static/z74yrvcuaoK_chWwBlRam/_buildManifest.js" defer=""></script><script src="/_next/static/z74yrvcuaoK_chWwBlRam/_ssgManifest.js" defer=""></script></head><body><div id="__next"><style data-emotion="css-global iftqeq">html{width:100%;height:100%;margin:0;padding:0;font-family:"Pretendard",sans-serif;font-size:62.5%;}body{width:100%;height:100%;margin:0;padding:0;}#__next{width:100%;height:100%;}</style><style data-emotion="css d80h7l">.css-d80h7l{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;box-sizing:border-box;width:100%;height:100%;padding-top:8px;color:#1f1f1f;background-color:#ffffff;}</style><div class="css-d80h7l eaogay90"><style data-emotion="css 134o37c">.css-134o37c{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;max-width:1000px;}</style><div class="css-134o37c eaogay91"><style data-emotion="css 1plrt3">.css-1plrt3{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;padding:18px 20px;}</style><header class="css-1plrt3 eb4s6i10"><style data-emotion="css 6yt065">.css-6yt065{cursor:pointer;box-sizing:border-box;border:0;padding:0;color:inherit;background-color:transparent;font-family:inherit;font-size:inherit;width:24px;height:24px;min-width:0;min-height:0;margin-right:auto;}</style><style data-emotion="css qew31m">.css-qew31m{font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;cursor:pointer;box-sizing:border-box;border:0;padding:0;color:inherit;background-color:transparent;font-family:inherit;font-size:inherit;width:24px;height:24px;min-width:0;min-height:0;margin-right:auto;}.css-qew31m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.css-qew31m:hover{background-color:transparent;}}.css-qew31m.Mui-disabled{color:rgba(0, 0, 0, 0.26);}</style><style data-emotion="css ek6cv0">.css-ek6cv0{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;cursor:pointer;box-sizing:border-box;border:0;padding:0;color:inherit;background-color:transparent;font-family:inherit;font-size:inherit;width:24px;height:24px;min-width:0;min-height:0;margin-right:auto;}.css-ek6cv0::-moz-focus-inner{border-style:none;}.css-ek6cv0.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-ek6cv0{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-ek6cv0:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.css-ek6cv0:hover{background-color:transparent;}}.css-ek6cv0.Mui-disabled{color:rgba(0, 0, 0, 0.26);}</style><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium css-ek6cv0" tabindex="0" type="button"><svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 18h18M3 12h18M3 6h18" stroke="#1F1F1F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><style data-emotion="css a3xyjy">.css-a3xyjy{z-index:1200;}</style><style data-emotion="css 1ogcupm animation-c9pehb">.css-1ogcupm{margin:0;padding:0;text-align:center;-webkit-flex:1;-ms-flex:1;flex:1;font-size:21px;font-weight:700;opacity:0;-webkit-animation:animation-c9pehb 0.5s forwards;animation:animation-c9pehb 0.5s forwards;}@-webkit-keyframes animation-c9pehb{100%{opacity:1;}}@keyframes animation-c9pehb{100%{opacity:1;}}</style><h1 class="css-1ogcupm eb4s6i11">블로그</h1><style data-emotion="css jtr702">.css-jtr702{cursor:pointer;box-sizing:border-box;border:0;padding:0;color:inherit;background-color:transparent;font-family:inherit;font-size:inherit;width:24px;height:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;min-width:0;min-height:0;margin-left:auto;}</style><style data-emotion="css 10p1af">.css-10p1af{font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;cursor:pointer;box-sizing:border-box;border:0;padding:0;color:inherit;background-color:transparent;font-family:inherit;font-size:inherit;width:24px;height:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;min-width:0;min-height:0;margin-left:auto;}.css-10p1af:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.css-10p1af:hover{background-color:transparent;}}.css-10p1af.Mui-disabled{color:rgba(0, 0, 0, 0.26);}</style><style data-emotion="css 148js05">.css-148js05{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;cursor:pointer;box-sizing:border-box;border:0;padding:0;color:inherit;background-color:transparent;font-family:inherit;font-size:inherit;width:24px;height:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;min-width:0;min-height:0;margin-left:auto;}.css-148js05::-moz-focus-inner{border-style:none;}.css-148js05.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-148js05{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-148js05:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.css-148js05:hover{background-color:transparent;}}.css-148js05.Mui-disabled{color:rgba(0, 0, 0, 0.26);}</style><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium css-148js05" tabindex="0" type="button"><style data-emotion="css 1i0bw9d">.css-1i0bw9d{font-size:21px;line-height:21px;opacity:1;-webkit-transition:opacity 1s,font-size 0.3s,line-height 0.3s;transition:opacity 1s,font-size 0.3s,line-height 0.3s;}</style><span class="css-1i0bw9d">가</span><style data-emotion="css bah3n2">.css-bah3n2{font-size:12px;line-height:12px;opacity:0.5;-webkit-transition:opacity 1s,font-size 0.3s,line-height 0.3s;transition:opacity 1s,font-size 0.3s,line-height 0.3s;}</style><span class="css-bah3n2">A</span></button></header><style data-emotion="css 1kxong4">.css-1kxong4{overflow-y:auto;width:100%;-webkit-flex:1;-ms-flex:1;flex:1;}</style><main class="css-1kxong4 eaogay92"><style data-emotion="css 1jldanx">.css-1jldanx{box-sizing:border-box;width:100%;padding:0 21px;}</style><div class="css-1jldanx eykyrpm2"><style data-emotion="css 1rr6krv">.css-1rr6krv{margin-bottom:2px;font-size:20px;font-weight:bold;}</style><div class="css-1rr6krv eykyrpm3">Mixing blur event and click event</div><style data-emotion="css 4osezd">.css-4osezd{margin-bottom:16px;font-size:16px;}</style><div class="css-4osezd eykyrpm4">2022-01-28</div><style data-emotion="css yar54t">.css-yar54t{word-break:break-all;width:100%;margin-bottom:8px;font-size:16px;border-top:1px solid #818181;border-bottom:1px solid #818181;}.css-yar54t h1{font-size:20px;}.css-yar54t h2{font-size:18px;}.css-yar54t h3{font-size:16px;}.css-yar54t ul{padding-left:24px;}.css-yar54t a{cursor:pointer;font-weight:normal;color:#3c4fff;}.css-yar54t table{box-sizing:border-box;border-collapse:collapse;border:1px solid #818181;}.css-yar54t table th,.css-yar54t table td{box-sizing:border-box;padding:8px;border:1px solid #818181;}.css-yar54t code{font-family:"SF Mono",monospace!important;}</style><div class="css-yar54t eykyrpm5"><p>드롭다운 같은 커스텀 UI를 만들 때 겪을 수 있는 이슈가 있다.
<style data-emotion="css femo2h">.css-femo2h{box-sizing:border-box;vertical-align:middle;font-size:13px;padding:0 2px;line-height:16px;background-color:rgba(232,232,232,0.7);}</style><code class="css-femo2h eykyrpm0">onClick()</code>을 사용해서 드롭다운의 옵션을 클릭하면 값이 바뀌며,
<code class="css-femo2h eykyrpm0">onBlur()</code>를 사용해서 드롭다운 밖을 클릭하면 드롭다운이 닫히게 하고 싶다고 하자.</p>
<p>There is an issue we can face when creating custom UIs like dropdowns.
Suppose that you want to change the current value by attaching <code class="css-femo2h eykyrpm0">onClick()</code> on the option buttons,
and you want to close the dropdown by clicking outside the dropdown by attaching <code class="css-femo2h eykyrpm0">onBlur()</code> on the container.</p>
<ul>
<li>Container -&gt; onBlur(): Close the dropdown if it is open
<ul>
<li>Value button</li>
<li>Option group
<ul>
<li>Option 1 -&gt; onClick(): Updates the current value</li>
<li>Option 2</li>
<li>Option 3</li>
<li>...</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>이 때 드롭다운의 옵션을 클릭해도 값이 바뀌지 않는 경우가 있다.
이는 <code class="css-femo2h eykyrpm0">onBlur()</code> 때문에 드롭다운이 <code class="css-femo2h eykyrpm0">onClick()</code>이 불리기도 전에 닫혀버리기 때문이다.</p>
<p>Sometimes the value does not change when you click the option in the dropdown.
This is because <code class="css-femo2h eykyrpm0">onBlur()</code> closes the dropdown <strong>before</strong> <code class="css-femo2h eykyrpm0">onClick()</code> is called.</p>
<p>이는 하위의 <code class="css-femo2h eykyrpm0">onMouseDown()</code>으로 <code class="css-femo2h eykyrpm0">preventDefault()</code>를 날려서 상위에 마우스 이벤트가 안 가게 하는 방법으로 막을 수 있다.</p>
<p>You can prevent that issue by attaching <code class="css-femo2h eykyrpm0">onMouseDown()</code> to the option buttons and let them call <code class="css-femo2h eykyrpm0">preventDefault()</code> to prevent the mouse event from going to the upper level.</p>
<ul>
<li>Container -&gt; onBlur(): Close the dropdown if it is open
<ul>
<li>Value button</li>
<li>Option group
<ul>
<li>Option 1 -&gt; onClick(): Updates the current value / onMouseDown(): Prevents <strong>event bubbling</strong></li>
<li>Option 2</li>
<li>Option 3</li>
<li>...</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noreferrer noopener" href="https://codesandbox.io/s/dropdown-onblur-issue-zcnfr?file=/src/App.tsx">데모</a>에서 <code class="css-femo2h eykyrpm0">onOptionMouseDown()</code>의 <code class="css-femo2h eykyrpm0">event.preventDefault()</code>를 주석처리해보면 옵션을 클릭해도 값이 바뀌지 않음을 알 수 있다.</p>
<p>If we comment out <code class="css-femo2h eykyrpm0">event.preventDefault()</code> inside <code class="css-femo2h eykyrpm0">onOptionMousedown()</code> in the <a target="_blank" rel="noreferrer noopener" href="https://codesandbox.io/s/dropdown-onblur-issue-zcnfr?file=/src/App.tsx">demo</a>, the option buttons will not work.</p></div><div class="css-4osezd eykyrpm6">카테고리<!-- -->: <style data-emotion="css mq9u7p">.css-mq9u7p{-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:inherit;font-size:inherit;color:#3c4fff;}</style><a class="css-mq9u7p eykyrpm7" href="/blog/category/computer/">Computer</a></div><style data-emotion="css vd5och">.css-vd5och{margin-top:32px;margin-bottom:128px;font-size:16px;}</style><div class="css-vd5och">Loading the comments...</div><div id="disqus_thread"></div></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"key":"dropdownblurclick","title":"Mixing blur event and click event","time":1643328000000,"category":"Computer","content":"드롭다운 같은 커스텀 UI를 만들 때 겪을 수 있는 이슈가 있다.\n`onClick()`을 사용해서 드롭다운의 옵션을 클릭하면 값이 바뀌며,\n`onBlur()`를 사용해서 드롭다운 밖을 클릭하면 드롭다운이 닫히게 하고 싶다고 하자.\n\nThere is an issue we can face when creating custom UIs like dropdowns.\nSuppose that you want to change the current value by attaching `onClick()` on the option buttons,\nand you want to close the dropdown by clicking outside the dropdown by attaching `onBlur()` on the container.\n\n- Container -\u003e onBlur(): Close the dropdown if it is open\n  - Value button\n  - Option group\n    - Option 1 -\u003e onClick(): Updates the current value\n    - Option 2\n    - Option 3\n    - ...\n\n이 때 드롭다운의 옵션을 클릭해도 값이 바뀌지 않는 경우가 있다.\n이는 `onBlur()` 때문에 드롭다운이 `onClick()`이 불리기도 전에 닫혀버리기 때문이다.\n\nSometimes the value does not change when you click the option in the dropdown.\nThis is because `onBlur()` closes the dropdown **before** `onClick()` is called.\n\n이는 하위의 `onMouseDown()`으로 `preventDefault()`를 날려서 상위에 마우스 이벤트가 안 가게 하는 방법으로 막을 수 있다.\n\nYou can prevent that issue by attaching `onMouseDown()` to the option buttons and let them call `preventDefault()` to prevent the mouse event from going to the upper level.\n\n- Container -\u003e onBlur(): Close the dropdown if it is open\n  - Value button\n  - Option group\n    - Option 1 -\u003e onClick(): Updates the current value / onMouseDown(): Prevents **event bubbling**\n    - Option 2\n    - Option 3\n    - ...\n\n[데모](https://codesandbox.io/s/dropdown-onblur-issue-zcnfr?file=/src/App.tsx)에서 `onOptionMouseDown()`의 `event.preventDefault()`를 주석처리해보면 옵션을 클릭해도 값이 바뀌지 않음을 알 수 있다.\n\nIf we comment out `event.preventDefault()` inside `onOptionMousedown()` in the [demo](https://codesandbox.io/s/dropdown-onblur-issue-zcnfr?file=/src/App.tsx), the option buttons will not work.\n"}},"__N_SSG":true},"page":"/blog/post/[key]","query":{"key":"dropdownblurclick"},"buildId":"z74yrvcuaoK_chWwBlRam","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>