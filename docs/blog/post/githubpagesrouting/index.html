<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css"/><link href="https://fonts.cdnfonts.com/css/sf-mono" rel="stylesheet"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-87b3a303122f2f0d.js" defer=""></script><script src="/_next/static/chunks/framework-13851bb302b49da9.js" defer=""></script><script src="/_next/static/chunks/main-8b014f87b6aca4f1.js" defer=""></script><script src="/_next/static/chunks/pages/_app-04fac096a3f9eb2b.js" defer=""></script><script src="/_next/static/chunks/262-a9fa66b955143e8e.js" defer=""></script><script src="/_next/static/chunks/665-239ce736925cdaff.js" defer=""></script><script src="/_next/static/chunks/pages/blog/post/%5Bkey%5D-ccedb138c63ae538.js" defer=""></script><script src="/_next/static/U0uhPiowNsH-RgPaNjg3u/_buildManifest.js" defer=""></script><script src="/_next/static/U0uhPiowNsH-RgPaNjg3u/_ssgManifest.js" defer=""></script></head><body><div id="__next"><style data-emotion="css-global iftqeq">html{width:100%;height:100%;margin:0;padding:0;font-family:"Pretendard",sans-serif;font-size:62.5%;}body{width:100%;height:100%;margin:0;padding:0;}#__next{width:100%;height:100%;}</style><style data-emotion="css d80h7l">.css-d80h7l{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;box-sizing:border-box;width:100%;height:100%;padding-top:8px;color:#1f1f1f;background-color:#ffffff;}</style><div class="css-d80h7l eaogay90"><style data-emotion="css 134o37c">.css-134o37c{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;max-width:1000px;}</style><div class="css-134o37c eaogay91"><style data-emotion="css 1plrt3">.css-1plrt3{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;padding:18px 20px;}</style><header class="css-1plrt3 eb4s6i10"><style data-emotion="css 6yt065">.css-6yt065{cursor:pointer;box-sizing:border-box;border:0;padding:0;color:inherit;background-color:transparent;font-family:inherit;font-size:inherit;width:24px;height:24px;min-width:0;min-height:0;margin-right:auto;}</style><style data-emotion="css qew31m">.css-qew31m{font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;cursor:pointer;box-sizing:border-box;border:0;padding:0;color:inherit;background-color:transparent;font-family:inherit;font-size:inherit;width:24px;height:24px;min-width:0;min-height:0;margin-right:auto;}.css-qew31m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.css-qew31m:hover{background-color:transparent;}}.css-qew31m.Mui-disabled{color:rgba(0, 0, 0, 0.26);}</style><style data-emotion="css ek6cv0">.css-ek6cv0{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;cursor:pointer;box-sizing:border-box;border:0;padding:0;color:inherit;background-color:transparent;font-family:inherit;font-size:inherit;width:24px;height:24px;min-width:0;min-height:0;margin-right:auto;}.css-ek6cv0::-moz-focus-inner{border-style:none;}.css-ek6cv0.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-ek6cv0{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-ek6cv0:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.css-ek6cv0:hover{background-color:transparent;}}.css-ek6cv0.Mui-disabled{color:rgba(0, 0, 0, 0.26);}</style><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium css-ek6cv0" tabindex="0" type="button"><svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 18h18M3 12h18M3 6h18" stroke="#1F1F1F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><style data-emotion="css a3xyjy">.css-a3xyjy{z-index:1200;}</style><style data-emotion="css 1ogcupm animation-c9pehb">.css-1ogcupm{margin:0;padding:0;text-align:center;-webkit-flex:1;-ms-flex:1;flex:1;font-size:21px;font-weight:700;opacity:0;-webkit-animation:animation-c9pehb 0.5s forwards;animation:animation-c9pehb 0.5s forwards;}@-webkit-keyframes animation-c9pehb{100%{opacity:1;}}@keyframes animation-c9pehb{100%{opacity:1;}}</style><h1 class="css-1ogcupm eb4s6i11">블로그</h1><style data-emotion="css jtr702">.css-jtr702{cursor:pointer;box-sizing:border-box;border:0;padding:0;color:inherit;background-color:transparent;font-family:inherit;font-size:inherit;width:24px;height:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;min-width:0;min-height:0;margin-left:auto;}</style><style data-emotion="css 10p1af">.css-10p1af{font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;cursor:pointer;box-sizing:border-box;border:0;padding:0;color:inherit;background-color:transparent;font-family:inherit;font-size:inherit;width:24px;height:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;min-width:0;min-height:0;margin-left:auto;}.css-10p1af:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.css-10p1af:hover{background-color:transparent;}}.css-10p1af.Mui-disabled{color:rgba(0, 0, 0, 0.26);}</style><style data-emotion="css 148js05">.css-148js05{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;cursor:pointer;box-sizing:border-box;border:0;padding:0;color:inherit;background-color:transparent;font-family:inherit;font-size:inherit;width:24px;height:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;min-width:0;min-height:0;margin-left:auto;}.css-148js05::-moz-focus-inner{border-style:none;}.css-148js05.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-148js05{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-148js05:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.css-148js05:hover{background-color:transparent;}}.css-148js05.Mui-disabled{color:rgba(0, 0, 0, 0.26);}</style><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium css-148js05" tabindex="0" type="button"><style data-emotion="css 1i0bw9d">.css-1i0bw9d{font-size:21px;line-height:21px;opacity:1;-webkit-transition:opacity 1s,font-size 0.3s,line-height 0.3s;transition:opacity 1s,font-size 0.3s,line-height 0.3s;}</style><span class="css-1i0bw9d">가</span><style data-emotion="css bah3n2">.css-bah3n2{font-size:12px;line-height:12px;opacity:0.5;-webkit-transition:opacity 1s,font-size 0.3s,line-height 0.3s;transition:opacity 1s,font-size 0.3s,line-height 0.3s;}</style><span class="css-bah3n2">A</span></button></header><style data-emotion="css 1kxong4">.css-1kxong4{overflow-y:auto;width:100%;-webkit-flex:1;-ms-flex:1;flex:1;}</style><main class="css-1kxong4 eaogay92"><style data-emotion="css 1jldanx">.css-1jldanx{box-sizing:border-box;width:100%;padding:0 21px;}</style><div class="css-1jldanx eykyrpm2"><style data-emotion="css 1rr6krv">.css-1rr6krv{margin-bottom:2px;font-size:20px;font-weight:bold;}</style><div class="css-1rr6krv eykyrpm3">Routing in GitHub Pages</div><style data-emotion="css 4osezd">.css-4osezd{margin-bottom:16px;font-size:16px;}</style><div class="css-4osezd eykyrpm4">2020-12-29</div><style data-emotion="css yar54t">.css-yar54t{word-break:break-all;width:100%;margin-bottom:8px;font-size:16px;border-top:1px solid #818181;border-bottom:1px solid #818181;}.css-yar54t h1{font-size:20px;}.css-yar54t h2{font-size:18px;}.css-yar54t h3{font-size:16px;}.css-yar54t ul{padding-left:24px;}.css-yar54t a{cursor:pointer;font-weight:normal;color:#3c4fff;}.css-yar54t table{box-sizing:border-box;border-collapse:collapse;border:1px solid #818181;}.css-yar54t table th,.css-yar54t table td{box-sizing:border-box;padding:8px;border:1px solid #818181;}.css-yar54t code{font-family:"SF Mono",monospace!important;}</style><div class="css-yar54t eykyrpm5"><p><a target="_blank" rel="noreferrer noopener" href="https://github.com/">깃허브</a>에서는 <a target="_blank" rel="noreferrer noopener" href="https://pages.github.com/">깃허브 페이지</a>를 통하여 웹사이트를 호스팅하는 기능을 제공한다. 이
때 <a target="_blank" rel="noreferrer noopener" href="https://reactrouter.com/">React Router</a> 등의 라우팅 라이브러리를 사용하여 웹사이트가 마치 여러 개의 페이지로 이루어진 것처럼 하위 경로들을 만들어주고 싶다고 하자
(<a target="_blank" rel="noreferrer noopener" href="https://ko.wikipedia.org/wiki/%EC%8B%B1%EA%B8%80_%ED%8E%98%EC%9D%B4%EC%A7%80_%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98">SPA: Single Page Application</a>).</p>
<p>In <a target="_blank" rel="noreferrer noopener" href="https://github.com/">GitHub</a>, we can host a website through
<a target="_blank" rel="noreferrer noopener" href="https://pages.github.com/">GitHub Pages</a>. Suppose that you want to create the sub-paths as if your website consists of
several pages
(<a target="_blank" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/single_page_application">SPA: Single Page Application</a>)
using a routing library such as <a target="_blank" rel="noreferrer noopener" href="https://reactrouter.com/">React Router</a>.</p>
<pre><style data-emotion="css femo2h">.css-femo2h{box-sizing:border-box;vertical-align:middle;font-size:13px;padding:0 2px;line-height:16px;background-color:rgba(232,232,232,0.7);}</style><code class="css-femo2h eykyrpm0">Webpage: user.github.io

user.github.io/about -&gt; Show the &#x27;About&#x27; component.
user.github.io/music -&gt; Show the &#x27;Musics&#x27; component.
user.github.io/project -&gt; Show the &#x27;Projects&#x27; component.
</code></pre>
<p>하지만 깃허브 페이지는 SPA를 지원하지 않는다. 하위 경로를 요청시 <code class="css-femo2h eykyrpm0">index.html</code>을 반환하지 못하고 404 에러 페이지를 반환한다.</p>
<p>However, GitHub pages do not support SPA. When requesting a sub-path, the website returns a 404 error page instead
of <code class="css-femo2h eykyrpm0">index.html</code>.</p>
<p><style data-emotion="css f72q80">.css-f72q80{overflow-x:auto;width:100%;}</style><div class="css-f72q80"><img src="https://imgur.com/eA72EXd.png" alt="GitHub404"/></div></p>
<p>해결법 중 하나는 해쉬 기반 라우팅을 사용하는 것이다. 리액트 라우터에서는 <code class="css-femo2h eykyrpm0">&lt;HashRouter/&gt;</code>를 사용해주면 된다.</p>
<p>One of the solutions is to use hash-based routing. In React router, you can use <code class="css-femo2h eykyrpm0">&lt;HashRouter/&gt;</code>.</p>
<pre><code class="css-femo2h eykyrpm0">Webpage: user.github.io

user.github.io/#about -&gt; Show the &#x27;About&#x27; component.
user.github.io/#music -&gt; Show the &#x27;Musics&#x27; component.
user.github.io/#project -&gt; Show the &#x27;Projects&#x27; component.
</code></pre>
<p>만약 해쉬 기반 라우팅을 사용하고 싶지 않다면, 404 페이지를 이용한 트릭을 사용하면 된다
(<a target="_blank" rel="noreferrer noopener" href="https://github.com/rafgraph/spa-github-pages">spa-github-pages</a>). 404 페이지에 스크립트를 삽입하여, 하위 경로에 접속시 주소(<code class="css-femo2h eykyrpm0">/...</code>)를 파라미터 형태(
ex. <code class="css-femo2h eykyrpm0">/?p=/...</code>로 바꾸어 주는 아이디어이다. 저장소에 <code class="css-femo2h eykyrpm0">404.html</code>을 추가하고, 다음과 같은 자바스크립트 코드를 추가한다.</p>
<p>If you don&#x27;t want to use hash-based routing, you can use the 404 page trick
(<a target="_blank" rel="noreferrer noopener" href="https://github.com/rafgraph/spa-github-pages">spa-github-pages</a>). It is an idea to insert a script into the 404 page
and change the address (<code class="css-femo2h eykyrpm0">/...</code>)
to the parameter form (ex. <code class="css-femo2h eykyrpm0">/?p=/...</code>) when accessing the sub-path. Add <code class="css-femo2h eykyrpm0">404.html</code> to the repository, and add the
following JavaScript code.</p>
<pre><code class="language-javascript css-femo2h eykyrpm0">var segmentCount = 0;
var l = window.location;

l.replace(
    l.protocol + &#x27;//&#x27; + l.hostname + (l.port ? &#x27;:&#x27; + l.port : &#x27;&#x27;) +
    l.pathname.split(&#x27;/&#x27;).slice(0, 1 + segmentCount).join(&#x27;/&#x27;) + &#x27;/?p=/&#x27; +
    l.pathname.slice(1).split(&#x27;/&#x27;).slice(segmentCount).join(&#x27;/&#x27;).replace(/&amp;/g, &#x27;~and~&#x27;) +
    (l.search ? &#x27;&amp;q=&#x27; + l.search.slice(1).replace(/&amp;/g, &#x27;~and~&#x27;) : &#x27;&#x27;) +
    l.hash
);
</code></pre>
<p>이 때 웹사이트의 기본 주소가 <code class="css-femo2h eykyrpm0">.../github.io</code> 형태이면 <code class="css-femo2h eykyrpm0">segmentCount = 0</code>,
<code class="css-femo2h eykyrpm0">.../github.io/xxx</code> 형태이면 <code class="css-femo2h eykyrpm0">segmentCount = 1</code>로 설정하면 된다.</p>
<p>If the base address of the website is in the form of <code class="css-femo2h eykyrpm0">.../github.io</code>, set <code class="css-femo2h eykyrpm0">segmentCount = 0</code>. If the base address of the
website is in the form of <code class="css-femo2h eykyrpm0">.../github.io/xxx</code>, set <code class="css-femo2h eykyrpm0">segmentCount = 1</code>.</p>
<p>그리고 <code class="css-femo2h eykyrpm0">index.html</code>에 다음과 같은 자바스크립트 코드를 추가한다.</p>
<p>And add the following JavaScript code in <code class="css-femo2h eykyrpm0">index.html</code>.</p>
<pre><code class="language-javascript css-femo2h eykyrpm0">(function (l) {
    if (l.search) {
        var q = {};

        l.search.slice(1).split(&#x27;&amp;&#x27;).forEach(function (v) {
            var a = v.split(&#x27;=&#x27;);
            q[a[0]] = a.slice(1).join(&#x27;=&#x27;).replace(/~and~/g, &#x27;&amp;&#x27;);
        });

        if (q.p !== undefined) {
            window.history.replaceState(null, null,
                l.pathname.slice(0, -1) + (q.p || &#x27;&#x27;) +
                (q.q ? (&#x27;?&#x27; + q.q) : &#x27;&#x27;) +
                l.hash
            );
        }
    }
}(window.location))
</code></pre>
<p>이 방법을 쓰면 깃허브 페이지에서도 다음과 같은 라우팅이 가능해진다. 다만 이 방법을 사용하면 웹사이트의
<a target="_blank" rel="noreferrer noopener" href="https://ko.wikipedia.org/wiki/%EA%B2%80%EC%83%89_%EC%97%94%EC%A7%84_%EC%B5%9C%EC%A0%81%ED%99%94">검색 엔진 최적화</a>
가 잘 되지 않을 수 있다.</p>
<p>Using this method, routing like the following becomes possible on the GitHub page. However, if you use this method, the
<a target="_blank" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/search_engine_optimization">Search Engine Optimization</a>
of the website may not work well.</p>
<pre><code class="css-femo2h eykyrpm0">Webpage: user.github.io

user.github.io/about -&gt; Show the &#x27;About&#x27; component.
user.github.io/music -&gt; Show the &#x27;Musics&#x27; component.
user.github.io/project -&gt; Show the &#x27;Projects&#x27; component.
</code></pre></div><div class="css-4osezd eykyrpm6">카테고리<!-- -->: <style data-emotion="css mq9u7p">.css-mq9u7p{-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:inherit;font-size:inherit;color:#3c4fff;}</style><a class="css-mq9u7p eykyrpm7" href="/blog/category/computer/">Computer</a></div><style data-emotion="css vd5och">.css-vd5och{margin-top:32px;margin-bottom:128px;font-size:16px;}</style><div class="css-vd5och">Loading the comments...</div><div id="disqus_thread"></div></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"key":"githubpagesrouting","title":"Routing in GitHub Pages","time":1609200000000,"category":"Computer","content":"[깃허브](https://github.com/)에서는 [깃허브 페이지](https://pages.github.com/)를 통하여 웹사이트를 호스팅하는 기능을 제공한다. 이\n때 [React Router](https://reactrouter.com/) 등의 라우팅 라이브러리를 사용하여 웹사이트가 마치 여러 개의 페이지로 이루어진 것처럼 하위 경로들을 만들어주고 싶다고 하자\n([SPA: Single Page Application](https://ko.wikipedia.org/wiki/싱글_페이지_애플리케이션)).\n\nIn [GitHub](https://github.com/), we can host a website through\n[GitHub Pages](https://pages.github.com/). Suppose that you want to create the sub-paths as if your website consists of\nseveral pages\n([SPA: Single Page Application](https://en.wikipedia.org/wiki/single_page_application))\nusing a routing library such as [React Router](https://reactrouter.com/).\n\n```\nWebpage: user.github.io\n\nuser.github.io/about -\u003e Show the 'About' component.\nuser.github.io/music -\u003e Show the 'Musics' component.\nuser.github.io/project -\u003e Show the 'Projects' component.\n```\n\n하지만 깃허브 페이지는 SPA를 지원하지 않는다. 하위 경로를 요청시 `index.html`을 반환하지 못하고 404 에러 페이지를 반환한다.\n\nHowever, GitHub pages do not support SPA. When requesting a sub-path, the website returns a 404 error page instead\nof `index.html`.\n\n![GitHub404](https://imgur.com/eA72EXd.png)\n\n해결법 중 하나는 해쉬 기반 라우팅을 사용하는 것이다. 리액트 라우터에서는 `\u003cHashRouter/\u003e`를 사용해주면 된다.\n\nOne of the solutions is to use hash-based routing. In React router, you can use `\u003cHashRouter/\u003e`.\n\n```\nWebpage: user.github.io\n\nuser.github.io/#about -\u003e Show the 'About' component.\nuser.github.io/#music -\u003e Show the 'Musics' component.\nuser.github.io/#project -\u003e Show the 'Projects' component.\n```\n\n만약 해쉬 기반 라우팅을 사용하고 싶지 않다면, 404 페이지를 이용한 트릭을 사용하면 된다\n([spa-github-pages](https://github.com/rafgraph/spa-github-pages)). 404 페이지에 스크립트를 삽입하여, 하위 경로에 접속시 주소(`/...`)를 파라미터 형태(\nex. `/?p=/...`로 바꾸어 주는 아이디어이다. 저장소에 `404.html`을 추가하고, 다음과 같은 자바스크립트 코드를 추가한다.\n\nIf you don't want to use hash-based routing, you can use the 404 page trick\n([spa-github-pages](https://github.com/rafgraph/spa-github-pages)). It is an idea to insert a script into the 404 page\nand change the address (`/...`)\nto the parameter form (ex. `/?p=/...`) when accessing the sub-path. Add `404.html` to the repository, and add the\nfollowing JavaScript code.\n\n```javascript\nvar segmentCount = 0;\nvar l = window.location;\n\nl.replace(\n    l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +\n    l.pathname.split('/').slice(0, 1 + segmentCount).join('/') + '/?p=/' +\n    l.pathname.slice(1).split('/').slice(segmentCount).join('/').replace(/\u0026/g, '~and~') +\n    (l.search ? '\u0026q=' + l.search.slice(1).replace(/\u0026/g, '~and~') : '') +\n    l.hash\n);\n```\n\n이 때 웹사이트의 기본 주소가 `.../github.io` 형태이면 `segmentCount = 0`,\n`.../github.io/xxx` 형태이면 `segmentCount = 1`로 설정하면 된다.\n\nIf the base address of the website is in the form of `.../github.io`, set `segmentCount = 0`. If the base address of the\nwebsite is in the form of `.../github.io/xxx`, set `segmentCount = 1`.\n\n그리고 `index.html`에 다음과 같은 자바스크립트 코드를 추가한다.\n\nAnd add the following JavaScript code in `index.html`.\n\n```javascript\n(function (l) {\n    if (l.search) {\n        var q = {};\n\n        l.search.slice(1).split('\u0026').forEach(function (v) {\n            var a = v.split('=');\n            q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '\u0026');\n        });\n\n        if (q.p !== undefined) {\n            window.history.replaceState(null, null,\n                l.pathname.slice(0, -1) + (q.p || '') +\n                (q.q ? ('?' + q.q) : '') +\n                l.hash\n            );\n        }\n    }\n}(window.location))\n```\n\n이 방법을 쓰면 깃허브 페이지에서도 다음과 같은 라우팅이 가능해진다. 다만 이 방법을 사용하면 웹사이트의\n[검색 엔진 최적화](https://ko.wikipedia.org/wiki/검색_엔진_최적화)\n가 잘 되지 않을 수 있다.\n\nUsing this method, routing like the following becomes possible on the GitHub page. However, if you use this method, the\n[Search Engine Optimization](https://en.wikipedia.org/wiki/search_engine_optimization)\nof the website may not work well.\n\n```\nWebpage: user.github.io\n\nuser.github.io/about -\u003e Show the 'About' component.\nuser.github.io/music -\u003e Show the 'Musics' component.\nuser.github.io/project -\u003e Show the 'Projects' component.\n```\n"}},"__N_SSG":true},"page":"/blog/post/[key]","query":{"key":"githubpagesrouting"},"buildId":"U0uhPiowNsH-RgPaNjg3u","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>